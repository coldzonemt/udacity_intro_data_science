# -*- coding: utf-8 -*-

import numpy as np
import pandas
import scipy
import statsmodels.api as sm

"""
In this optional exercise, you should complete the function called 
predictions(turnstile_weather). This function takes in our pandas 
turnstile weather dataframe, and returns a set of predicted ridership values,
based on the other information in the dataframe.  

In exercise 3.5 we used Gradient Descent in order to compute the coefficients
theta used for the ridership prediction. Here you should attempt to implement 
another way of computing the coeffcients theta. You may also try using a reference implementation such as: 
http://statsmodels.sourceforge.net/devel/generated/statsmodels.regression.linear_model.OLS.html

One of the advantages of the statsmodels implementation is that it gives you
easy access to the values of the coefficients theta. This can help you infer relationships 
between variables in the dataset.

You may also experiment with polynomial terms as part of the input variables.  

The following links might be useful: 
http://en.wikipedia.org/wiki/Ordinary_least_squares
http://en.wikipedia.org/w/index.php?title=Linear_least_squares_(mathematics)
http://en.wikipedia.org/wiki/Polynomial_regression

This is your playground. Go wild!

How does your choice of linear regression compare to linear regression
with gradient descent computed in Exercise 3.5?

You can look at the information contained in the turnstile_weather dataframe below:
https://s3.amazonaws.com/content.udacity-data.com/courses/ud359/turnstile_data_master_with_weather.csv

Note: due to the memory and CPU limitation of our amazon EC2 instance, we will
give you a random subset (~10%) of the data contained in turnstile_data_master_with_weather.csv

If you receive a "server has encountered an error" message, that means you are hitting 
the 30 second limit that's placed on running your program. See if you can optimize your code so it
runs faster.
"""

def predictions(weather_turnstile):
    #
    # Your implementation goes here. Feel free to write additional
    # helper functions
    # 
    return prediction


''' 
This is a print out of the data from the assignment: 
 Unnamed: 0  UNIT       DATEn     TIMEn  Hour    DESCn  ENTRIESn_hourly  \
0             38  R008  2011-05-01  00:00:00     0  REGULAR              0.0   
1             40  R008  2011-05-01  12:00:00    12  REGULAR              0.0   
2             82  R015  2011-05-01  14:00:00    14  REGULAR            847.0   
3            121  R022  2011-05-01  04:00:00     4  REGULAR           2120.0   
4            128  R023  2011-05-01  08:00:00     8  REGULAR            663.0   
5            129  R023  2011-05-01  12:00:00    12  REGULAR           3183.0   
6            138  R025  2011-05-01  00:00:00     0  REGULAR              0.0   
7            151  R028  2011-05-01  07:00:00     7  REGULAR            124.0   
8            157  R029  2011-05-01  04:00:00     4  REGULAR            798.0   
9            159  R029  2011-05-01  12:00:00    12  REGULAR           2544.0   
10           162  R030  2011-05-01  00:00:00     0  REGULAR              0.0   
11           173  R031  2011-05-01  08:00:00     8  REGULAR            329.0   
12           181  R032  2011-05-01  16:00:00    16  REGULAR           1972.0   
13           189  R034  2011-05-01  00:00:00     0  REGULAR              0.0   
14           200  R035  2011-05-01  20:00:00    20  REGULAR           2763.0   
15           225  R040  2011-05-01  00:00:00     0  REGULAR              0.0   
16           233  R041  2011-05-01  12:00:00    12  REGULAR            967.0   
17           241  R043  2011-05-01  00:00:00     0  REGULAR              0.0   
18           244  R043  2011-05-01  03:00:00     3  REGULAR             39.0   
19           262  R043  2011-05-01  21:00:00    21  REGULAR            286.0   
20           263  R043  2011-05-01  22:00:00    22  REGULAR            164.0   
21           272  R045  2011-05-01  05:00:00     5  REGULAR              5.0   
22           295  R049  2011-05-01  00:00:00     0  REGULAR              0.0   
23           297  R049  2011-05-01  08:00:00     8  REGULAR            244.0   
24           311  R051  2011-05-01  16:00:00    16  REGULAR           4782.0   
25           325  R053  2011-05-01  20:00:00    20  REGULAR           2100.0   
26           333  R054  2011-05-01  16:00:00    16  REGULAR            627.0   
27           353  R057  2011-05-01  20:00:00    20  REGULAR           6175.0   
28           354  R058  2011-05-01  00:00:00     0  REGULAR              0.0   
29           387  R063  2011-05-01  20:00:00    20  REGULAR            792.0   
...          ...   ...         ...       ...   ...      ...              ...   
9970      131544  R550  2011-05-30  03:39:56     3  REGULAR              3.0   
9971      131555  R550  2011-05-30  05:10:10     5  REGULAR              7.0   
9972      131575  R550  2011-05-30  07:15:21     7  REGULAR              0.0   
9973      131588  R550  2011-05-30  08:55:31     8  REGULAR              4.0   
9974      131595  R550  2011-05-30  09:22:10     9  REGULAR             23.0   
9975      131600  R550  2011-05-30  09:58:00     9  REGULAR              5.0   
9976      131627  R550  2011-05-30  13:11:44    13  REGULAR              0.0   
9977      131636  R550  2011-05-30  13:52:48    13  REGULAR             62.0   
9978      131640  R550  2011-05-30  14:24:08    14  REGULAR              7.0   
9979      131643  R550  2011-05-30  14:48:10    14  REGULAR              0.0   
9980      131647  R550  2011-05-30  15:06:22    15  REGULAR              0.0   
9981      131649  R550  2011-05-30  15:19:40    15  REGULAR            130.0   
9982      131673  R550  2011-05-30  17:50:23    17  REGULAR             15.0   
9983      131682  R550  2011-05-30  19:00:10    19  REGULAR              0.0   
9984      131706  R550  2011-05-30  21:47:43    21  REGULAR              1.0   
9985      131708  R550  2011-05-30  21:53:04    21  REGULAR             57.0   
9986      131744  R551  2011-05-30  03:57:03     3  REGULAR             21.0   
9987      131772  R551  2011-05-30  10:53:16    10  REGULAR             73.0   
9988      131781  R551  2011-05-30  12:12:21    12  REGULAR             95.0   
9989      131796  R551  2011-05-30  16:12:42    16  REGULAR            172.0   
9990      131798  R551  2011-05-30  16:24:21    16  REGULAR            118.0   
9991      131821  R551  2011-05-30  20:47:23    20  REGULAR             26.0   
9992      131832  R552  2011-05-30  00:00:49     0  REGULAR             98.0   
9993      131837  R552  2011-05-30  01:21:09     1  REGULAR             53.0   
9994      131851  R552  2011-05-30  03:56:21     3  REGULAR             11.0   
9995      131873  R552  2011-05-30  08:15:44     8  REGULAR              0.0   
9996      131883  R552  2011-05-30  10:33:30    10  REGULAR            383.0   
9997      131909  R552  2011-05-30  15:24:27    15  REGULAR            487.0   
9998      131927  R552  2011-05-30  19:11:30    19  REGULAR            208.0   
9999      131931  R552  2011-05-30  19:38:47    19  REGULAR            275.0   

      EXITSn_hourly  maxpressurei  maxdewpti   ...     meandewpti  \
0               0.0         30.31       42.0   ...           39.0   
1               0.0         30.31       42.0   ...           39.0   
2            1802.0         30.31       42.0   ...           39.0   
3             945.0         30.31       42.0   ...           39.0   
4             757.0         30.31       42.0   ...           39.0   
5            5199.0         30.31       42.0   ...           39.0   
6               0.0         30.31       42.0   ...           39.0   
7             240.0         30.31       42.0   ...           39.0   
8             454.0         30.31       42.0   ...           39.0   
9            2327.0         30.31       42.0   ...           39.0   
10              0.0         30.31       42.0   ...           39.0   
11            425.0         30.31       42.0   ...           39.0   
12           6584.0         30.31       42.0   ...           39.0   
13              0.0         30.31       42.0   ...           39.0   
14           2122.0         30.31       42.0   ...           39.0   
15              0.0         30.31       42.0   ...           39.0   
16           1018.0         30.31       42.0   ...           39.0   
17              0.0         30.31       42.0   ...           39.0   
18             25.0         30.31       42.0   ...           39.0   
19            158.0         30.31       42.0   ...           39.0   
20            123.0         30.31       42.0   ...           39.0   
21             14.0         30.31       42.0   ...           39.0   
22              0.0         30.31       42.0   ...           39.0   
23            562.0         30.31       42.0   ...           39.0   
24           4903.0         30.31       42.0   ...           39.0   
25           1325.0         30.31       42.0   ...           39.0   
26            806.0         30.31       42.0   ...           39.0   
27           5583.0         30.31       42.0   ...           39.0   
28              0.0         30.31       42.0   ...           39.0   
29            632.0         30.31       42.0   ...           39.0   
...             ...           ...        ...   ...            ...   
9970           85.0         30.13       70.0   ...           68.0   
9971            1.0         30.13       70.0   ...           68.0   
9972            9.0         30.13       70.0   ...           68.0   
9973            4.0         30.13       70.0   ...           68.0   
9974            9.0         30.13       70.0   ...           68.0   
9975            5.0         30.13       70.0   ...           68.0   
9976            0.0         30.13       70.0   ...           68.0   
9977            4.0         30.13       70.0   ...           68.0   
9978           31.0         30.13       70.0   ...           68.0   
9979           27.0         30.13       70.0   ...           68.0   
9980            4.0         30.13       70.0   ...           68.0   
9981           26.0         30.13       70.0   ...           68.0   
9982          106.0         30.13       70.0   ...           68.0   
9983           47.0         30.13       70.0   ...           68.0   
9984            9.0         30.13       70.0   ...           68.0   
9985           13.0         30.13       70.0   ...           68.0   
9986           68.0         30.13       70.0   ...           68.0   
9987           13.0         30.13       70.0   ...           68.0   
9988           27.0         30.13       70.0   ...           68.0   
9989          207.0         30.13       70.0   ...           68.0   
9990           74.0         30.13       70.0   ...           68.0   
9991           56.0         30.13       70.0   ...           68.0   
9992          561.0         30.13       70.0   ...           68.0   
9993           90.0         30.13       70.0   ...           68.0   
9994           12.0         30.13       70.0   ...           68.0   
9995            0.0         30.13       70.0   ...           68.0   
9996          207.0         30.13       70.0   ...           68.0   
9997          180.0         30.13       70.0   ...           68.0   
9998          998.0         30.13       70.0   ...           68.0   
9999           71.0         30.13       70.0   ...           68.0   

      meanpressurei  fog  rain  meanwindspdi  mintempi  meantempi  maxtempi  \
0             30.27  0.0   0.0           5.0      50.0       60.0      69.0   
1             30.27  0.0   0.0           5.0      50.0       60.0      69.0   
2             30.27  0.0   0.0           5.0      50.0       60.0      69.0   
3             30.27  0.0   0.0           5.0      50.0       60.0      69.0   
4             30.27  0.0   0.0           5.0      50.0       60.0      69.0   
5             30.27  0.0   0.0           5.0      50.0       60.0      69.0   
6             30.27  0.0   0.0           5.0      50.0       60.0      69.0   
7             30.27  0.0   0.0           5.0      50.0       60.0      69.0   
8             30.27  0.0   0.0           5.0      50.0       60.0      69.0   
9             30.27  0.0   0.0           5.0      50.0       60.0      69.0   
10            30.27  0.0   0.0           5.0      50.0       60.0      69.0   
11            30.27  0.0   0.0           5.0      50.0       60.0      69.0   
12            30.27  0.0   0.0           5.0      50.0       60.0      69.0   
13            30.27  0.0   0.0           5.0      50.0       60.0      69.0   
14            30.27  0.0   0.0           5.0      50.0       60.0      69.0   
15            30.27  0.0   0.0           5.0      50.0       60.0      69.0   
16            30.27  0.0   0.0           5.0      50.0       60.0      69.0   
17            30.27  0.0   0.0           5.0      50.0       60.0      69.0   
18            30.27  0.0   0.0           5.0      50.0       60.0      69.0   
19            30.27  0.0   0.0           5.0      50.0       60.0      69.0   
20            30.27  0.0   0.0           5.0      50.0       60.0      69.0   
21            30.27  0.0   0.0           5.0      50.0       60.0      69.0   
22            30.27  0.0   0.0           5.0      50.0       60.0      69.0   
23            30.27  0.0   0.0           5.0      50.0       60.0      69.0   
24            30.27  0.0   0.0           5.0      50.0       60.0      69.0   
25            30.27  0.0   0.0           5.0      50.0       60.0      69.0   
26            30.27  0.0   0.0           5.0      50.0       60.0      69.0   
27            30.27  0.0   0.0           5.0      50.0       60.0      69.0   
28            30.27  0.0   0.0           5.0      50.0       60.0      69.0   
29            30.27  0.0   0.0           5.0      50.0       60.0      69.0   
...             ...  ...   ...           ...       ...        ...       ...   
9970          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9971          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9972          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9973          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9974          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9975          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9976          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9977          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9978          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9979          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9980          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9981          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9982          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9983          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9984          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9985          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9986          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9987          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9988          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9989          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9990          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9991          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9992          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9993          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9994          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9995          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9996          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9997          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9998          30.08  0.0   1.0           5.0      70.0       78.0      86.0   
9999          30.08  0.0   1.0           5.0      70.0       78.0      86.0   

      precipi  thunder  
0        0.00      0.0  
1        0.00      0.0  
2        0.00      0.0  
3        0.00      0.0  
4        0.00      0.0  
5        0.00      0.0  
6        0.00      0.0  
7        0.00      0.0  
8        0.00      0.0  
9        0.00      0.0  
10       0.00      0.0  
11       0.00      0.0  
12       0.00      0.0  
13       0.00      0.0  
14       0.00      0.0  
15       0.00      0.0  
16       0.00      0.0  
17       0.00      0.0  
18       0.00      0.0  
19       0.00      0.0  
20       0.00      0.0  
21       0.00      0.0  
22       0.00      0.0  
23       0.00      0.0  
24       0.00      0.0  
25       0.00      0.0  
26       0.00      0.0  
27       0.00      0.0  
28       0.00      0.0  
29       0.00      0.0  
...       ...      ...  
9970     0.29      0.0  
9971     0.29      0.0  
9972     0.29      0.0  
9973     0.29      0.0  
9974     0.29      0.0  
9975     0.29      0.0  
9976     0.29      0.0  
9977     0.29      0.0  
9978     0.29      0.0  
9979     0.29      0.0  
9980     0.29      0.0  
9981     0.29      0.0  
9982     0.29      0.0  
9983     0.29      0.0  
9984     0.29      0.0  
9985     0.29      0.0  
9986     0.29      0.0  
9987     0.29      0.0  
9988     0.29      0.0  
9989     0.29      0.0  
9990     0.29      0.0  
9991     0.29      0.0  
9992     0.29      0.0  
9993     0.29      0.0  
9994     0.29      0.0  
9995     0.29      0.0  
9996     0.29      0.0  
9997     0.29      0.0  
9998     0.29      0.0  
9999     0.29      0.0  

[10000 rows x 22 columns]
'''